document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".card-body h3.text-warning"),t=document.querySelectorAll(".card-body h3.text-warning")[1],n=document.querySelector(".gauge-box p.display-4");fetch("http://127.0.0.1:5000/api/inference_requests").then((function(e){return e.json()})).then((function(r){if(!Array.isArray(r))throw new Error("Unexpected API response format. Expected an array of requests.");var o=new Date,a=r.filter((function(e){var t=new Date(e.request_creation);return o-t<=2592e6})),c=a.length;e.textContent=c;var i=a.filter((function(e){return e.pallet_type})).length,u=c>0?(i/c*100).toFixed(2):0;t.textContent="".concat(u,"%");var s=a.map((function(e){var t=new Date(e.request_creation).getTime();return new Date(e.answer_time).getTime()-t})),l=s.reduce((function(e,t){return e+t}),0),d=s.length>0?(l/s.length).toFixed(2):0,g=(d/1e3).toFixed(2);n.textContent="".concat(g,"s"),console.log({requestCount:c,noPalletTypeCount,noPalletTypeRate,avgProcessingTime:d,avgProcessingTimeInSeconds:g,totalProcessingTime:l})})).catch((function(e){console.error("Error fetching or processing inference request data:",e)}))}));