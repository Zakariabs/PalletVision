document.addEventListener("DOMContentLoaded",(function(){var e=localStorage.getItem("jwtToken"),t=document.querySelector(".card-body h3.text-warning"),n=document.querySelectorAll(".card-body h3.text-warning")[1],r=document.querySelector(".gauge-box p.display-4");fetch("http://127.0.0.1:5000/api/inference_requests",{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){if(!Array.isArray(e))throw new Error("Unexpected API response format. Expected an array of requests.");var o=new Date,a=e.filter((function(e){var t=new Date(e.request_creation);return o-t<=2592e6})),c=a.length;t.textContent=c;var i=a.filter((function(e){return e.pallet_type})).length,u=c>0?(i/c*100).toFixed(2):0;n.textContent="".concat(u,"%");var l=a.map((function(e){var t=new Date(e.request_creation).getTime();return new Date(e.answer_time).getTime()-t})),s=l.reduce((function(e,t){return e+t}),0),d=l.length>0?(s/l.length).toFixed(2):0,g=(d/1e3).toFixed(2);r.textContent="".concat(g,"s"),console.log({requestCount:c,noPalletTypeCount,noPalletTypeRate,avgProcessingTime:d,avgProcessingTimeInSeconds:g,totalProcessingTime:s})})).catch((function(e){console.error("Error fetching or processing inference request data:",e)}))}));