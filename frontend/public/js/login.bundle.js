document.addEventListener("DOMContentLoaded",(function(){function e(){var e=document.getElementById("loginLink"),n=document.getElementById("loginFormContainer"),o=document.getElementById("loginForm");console.log("loginLink:",e),console.log("loginFormContainer:",n),console.log("loginForm:",o),e&&e.addEventListener("click",(function(e){e.preventDefault(),n.style.display="block",console.log("Login link clicked, form displayed")})),o&&o.addEventListener("submit",(function(e){e.preventDefault();var o=document.getElementById("username").value,t=document.getElementById("password").value;console.log("Form submitted with username:",o),fetch("http://127.0.0.1:5000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:t})}).then((function(e){if(!e.ok)throw new Error("Login failed");return e.json()})).then((function(e){localStorage.setItem("jwtToken",e.access_token),alert("Login successful"),n.style.display="none",console.log("Login successful, token stored")})).catch((function(e){console.error("Error during login:",e),alert("Login failed")}))}))}var n=document.getElementById("header");n?fetch("./partials/header.html").then((function(e){return e.text()})).then((function(o){n.innerHTML=o,e()})):e()}));